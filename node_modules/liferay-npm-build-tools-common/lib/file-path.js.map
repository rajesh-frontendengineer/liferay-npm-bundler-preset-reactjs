{"version":3,"sources":["../src/file-path.js"],"names":["FilePath","nativePath","posix","nativeIsPosix","replace","_nativePath","_posixPath","_windowsPath","asNative","join","path","win32","nativePathFragments","toString","map","nativePathFragment","relative","sep","convertArray","nativePathsArray","filePathsArray","Object","defineProperty","configurable","enumerable","get","filePath","asPosix","asWindows"],"mappings":";;;;;;qjBAAA;;;;;;AAMA;;;;;;;;;;IAEqBA,Q;AACpB,mBAAYC,UAAZ,EAAsC;AAAA,iFAAJ,EAAI;AAAA,MAAbC,KAAa,QAAbA,KAAa;;AAAA;;AACrC,MAAIA,SAAS,CAACF,SAASG,aAAvB,EAAsC;AACrCF,gBAAaA,WAAWG,OAAX,CAAmB,KAAnB,EAA0B,IAA1B,CAAb;AACA;;AAED,OAAKC,WAAL,GAAmBJ,UAAnB;;AAEA,MAAID,SAASG,aAAb,EAA4B;AAC3B,QAAKG,UAAL,GAAkBL,UAAlB;AACA,QAAKM,YAAL,GAAoBN,WAAWG,OAAX,CAAmB,KAAnB,EAA0B,IAA1B,CAApB;AACA,GAHD,MAGO;AACN,QAAKE,UAAL,GAAkBL,WAAWG,OAAX,CAAmB,KAAnB,EAA0B,GAA1B,CAAlB;AACA,QAAKG,YAAL,GAAoBN,UAApB;AACA;AACD;;;;6BAEU;AACV,UAAO,KAAKO,QAAZ;AACA;;;;;AAcD;;;;;yBAK6B;AAC5B,OAAMC,OAAOT,SAASG,aAAT,GAAyBO,eAAKR,KAAL,CAAWO,IAApC,GAA2CC,eAAKC,KAAL,CAAWF,IAAnE;;AAD4B,qCAArBG,mBAAqB;AAArBA,uBAAqB;AAAA;;AAG5B,UAAO,IAAIZ,QAAJ,CACNS,uBACC,KAAKI,QAAL,EADD,4BAEID,oBAAoBE,GAApB,CAAwB;AAAA,WAC1BC,mBAAmBF,QAAnB,EAD0B;AAAA,IAAxB,CAFJ,GADM,CAAP;AAQA;;AAED;;;;;;;;2BAKSZ,U,EAAY;AACpB,UAAO,IAAID,QAAJ,CACNU,eAAKM,QAAL,CAAc,KAAKR,QAAnB,EAA6BP,WAAWY,QAAX,EAA7B,CADM,CAAP;AAGA;;;sBAvCc;AACd,UAAO,KAAKR,WAAZ;AACA;;;sBAEa;AACb,UAAO,KAAKC,UAAZ;AACA;;;sBAEe;AACf,UAAO,KAAKC,YAAZ;AACA;;;;;;kBA/BmBP,Q;;;AA+DrBA,SAASG,aAAT,GAAyBO,eAAKO,GAAL,KAAa,GAAtC;;AAEAjB,SAASkB,YAAT,GAAwB,UAACC,gBAAD,EAAoC;AAAA,iFAAP,EAAO;AAAA,KAAhBjB,KAAgB,SAAhBA,KAAgB;;AAC3D,KAAMkB,iBAAiBD,iBAAiBL,GAAjB,CACtB;AAAA,SAAc,IAAId,QAAJ,CAAaC,UAAb,EAAyB,EAACC,YAAD,EAAzB,CAAd;AAAA,EADsB,CAAvB;;AAIAmB,QAAOC,cAAP,CAAsBF,cAAtB,EAAsC,UAAtC,EAAkD;AACjDG,gBAAc,KADmC;AAEjDC,cAAY,IAFqC;AAGjDC,OAAK;AAAA,UAAML,eAAeN,GAAf,CAAmB;AAAA,WAAYY,SAASlB,QAArB;AAAA,IAAnB,CAAN;AAAA;AAH4C,EAAlD;;AAMAa,QAAOC,cAAP,CAAsBF,cAAtB,EAAsC,SAAtC,EAAiD;AAChDG,gBAAc,KADkC;AAEhDC,cAAY,IAFoC;AAGhDC,OAAK;AAAA,UAAML,eAAeN,GAAf,CAAmB;AAAA,WAAYY,SAASC,OAArB;AAAA,IAAnB,CAAN;AAAA;AAH2C,EAAjD;;AAMAN,QAAOC,cAAP,CAAsBF,cAAtB,EAAsC,WAAtC,EAAmD;AAClDG,gBAAc,KADoC;AAElDC,cAAY,IAFsC;AAGlDC,OAAK;AAAA,UAAML,eAAeN,GAAf,CAAmB;AAAA,WAAYY,SAASE,SAArB;AAAA,IAAnB,CAAN;AAAA;AAH6C,EAAnD;;AAMA,QAAOR,cAAP;AACA,CAxBD","file":"file-path.js","sourcesContent":["/**\n * Â© 2017 Liferay, Inc. <https://liferay.com>\n *\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport path from 'path';\n\nexport default class FilePath {\n\tconstructor(nativePath, {posix} = {}) {\n\t\tif (posix && !FilePath.nativeIsPosix) {\n\t\t\tnativePath = nativePath.replace(/\\//g, '\\\\');\n\t\t}\n\n\t\tthis._nativePath = nativePath;\n\n\t\tif (FilePath.nativeIsPosix) {\n\t\t\tthis._posixPath = nativePath;\n\t\t\tthis._windowsPath = nativePath.replace(/\\//g, '\\\\');\n\t\t} else {\n\t\t\tthis._posixPath = nativePath.replace(/\\\\/g, '/');\n\t\t\tthis._windowsPath = nativePath;\n\t\t}\n\t}\n\n\ttoString() {\n\t\treturn this.asNative;\n\t}\n\n\tget asNative() {\n\t\treturn this._nativePath;\n\t}\n\n\tget asPosix() {\n\t\treturn this._posixPath;\n\t}\n\n\tget asWindows() {\n\t\treturn this._windowsPath;\n\t}\n\n\t/**\n\t *\n\t * @param {...string|FilePath} nativePathFragments\n\t * @return {FilePath}\n\t */\n\tjoin(...nativePathFragments) {\n\t\tconst join = FilePath.nativeIsPosix ? path.posix.join : path.win32.join;\n\n\t\treturn new FilePath(\n\t\t\tjoin(\n\t\t\t\tthis.toString(),\n\t\t\t\t...nativePathFragments.map(nativePathFragment =>\n\t\t\t\t\tnativePathFragment.toString()\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n\n\t/**\n\t *\n\t * @param {string|FilePath} nativePath\n\t * @return {FilePath}\n\t */\n\trelative(nativePath) {\n\t\treturn new FilePath(\n\t\t\tpath.relative(this.asNative, nativePath.toString())\n\t\t);\n\t}\n}\n\nFilePath.nativeIsPosix = path.sep === '/';\n\nFilePath.convertArray = (nativePathsArray, {posix} = {}) => {\n\tconst filePathsArray = nativePathsArray.map(\n\t\tnativePath => new FilePath(nativePath, {posix})\n\t);\n\n\tObject.defineProperty(filePathsArray, 'asNative', {\n\t\tconfigurable: false,\n\t\tenumerable: true,\n\t\tget: () => filePathsArray.map(filePath => filePath.asNative),\n\t});\n\n\tObject.defineProperty(filePathsArray, 'asPosix', {\n\t\tconfigurable: false,\n\t\tenumerable: true,\n\t\tget: () => filePathsArray.map(filePath => filePath.asPosix),\n\t});\n\n\tObject.defineProperty(filePathsArray, 'asWindows', {\n\t\tconfigurable: false,\n\t\tenumerable: true,\n\t\tget: () => filePathsArray.map(filePath => filePath.asWindows),\n\t});\n\n\treturn filePathsArray;\n};\n"]}
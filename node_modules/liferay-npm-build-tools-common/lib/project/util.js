'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.getFeaturesFilePath = getFeaturesFilePath;

var _dotProp = require('dot-prop');

var _dotProp2 = _interopRequireDefault(_dotProp);

var _fs = require('fs');

var _fs2 = _interopRequireDefault(_fs);

var _filePath = require('../file-path');

var _filePath2 = _interopRequireDefault(_filePath);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 *
 * @param {Project} project
 * @param {string} featuresKey
 * @param {string} defaultPrjRelPosixPath a posix path relative to project root
 * @return {string|undefined} absolute path to features file
 */
function getFeaturesFilePath(project, featuresKeyPath, defaultPrjRelPosixPath) {
	var _npmbundlerrc = project._npmbundlerrc,
	    _projectDir = project._projectDir;


	var prjRelPosixPath = _dotProp2.default.get(_npmbundlerrc, featuresKeyPath);

	if (prjRelPosixPath !== undefined) {
		return _projectDir.join(new _filePath2.default(prjRelPosixPath, { posix: true })).asNative;
	}

	var defaultAbsPath = _projectDir.join(new _filePath2.default(defaultPrjRelPosixPath, { posix: true })).asNative;

	if (_fs2.default.existsSync(defaultAbsPath)) {
		return defaultAbsPath;
	}

	return undefined;
} /**
   * Â© 2017 Liferay, Inc. <https://liferay.com>
   *
   * SPDX-License-Identifier: LGPL-3.0-or-later
   */
//# sourceMappingURL=util.js.map